# Журнал изменений

## 1.0.1 - 2026-02-12

### Добавлено
- Метаданные версии приложения (`1.0.1`) выведены через backend API meta/settings.
- Режим развертывания с вариантами `Enterprise` и `Home` в настройках.
- Предупреждение для Home-режима в UI и применение ограничений режима выполнения.
- Переключатель проверки обновлений в настройках и кнопка ручной проверки.
- Безопасная проверка последнего релиза GitHub (таймауты, backoff, контроль лимита запросов, только сравнение версий).
- Глобальный endpoint метаданных приложения для footer/версии/статуса обновлений.
- Автотест покрытия i18n (паритет ключей RU/EN и проверка используемых UI-ключей).
- Файлы `CHANGELOG.md` и `Zero-Trust Audit Report`.
- Вкладка `Грифы` (`Classifications`) для управления названиями грифов и их иерархией.

### Изменено
- Переработан toolbar главной вкладки мониторинга в компактную двухколоночную структуру.
- Для пустого списка мониторов показывается отдельное сообщение и скрываются лишние блоки деталей/событий.
- Нормализована структура страницы настроек (вкладки/панели, блок источников, runtime-блок, блок о проекте).
- Обновлен README: быстрый деплой через docker-compose и пояснения по окружению.
- В конфигурации и документации зафиксирован `deployment_mode`.
- Улучшен UX архива (локализованное действие открытия в архиве задач).
- Поведение HTTPS-экрана согласовано с режимом развертывания.
- Исправлены маршруты для мутаций комментариев задач.
- Расширены инструкции по Docker-деплою (GHCR + постоянное хранение SQLite).
- В `Аккаунты -> Роли` права в карточке роли теперь отображаются как теги, а не строка с запятыми.
- В `Документы` расширен левый фрейм и выровнены кнопки действий в одну строку (`Новый (MD)`, `Импорт`, `Шаблоны`).
- Размер вкладок `Аккаунты` (`Главная`, `Группы`, `Пользователи`) приведен к стилю вкладок `Отчеты`.
- Поля диапазона даты в логах (`С`/`По`) расширены для удобства ввода.
- Иерархия грифов поддерживает перемещение пользовательских грифов между стандартными уровнями.
- Порядок грифов по умолчанию изменен на: `Конфиденциальный -> Внутренний -> ДСП -> Публичный`.

### Исправлено
- Визуальный отступ между карточками `Пространства` и `Шаблоны задач` на вкладке задач.
- Добавлен отсутствующий ключ перевода `common.open` для RU/EN.
- Добавлены недостающие RU/EN ключи для новых состояний UI настроек и мониторинга.
- Для комментариев задач на запись теперь требуется `tasks.comment` вместо `tasks.view`.
- Удалены дублированные/поврежденные фрагменты из `settings.html`.
- Выравнивание чекбокса проверки обновлений в runtime-настройках.
- Отображение статуса проверки обновлений поддерживает оба формата поля времени (`checked_at` и `checkedAt`).
- Стабилизирован layout панели мониторинга (левая колонка: поиск/обновить/фильтры, правая: теги).
- В логах скрыты шумные числовые детали для list-only действий.
- Фильтры даты логов (`С`/`По`) отображаются в одной строке на desktop.
- Backend проверки обновлений больше не падает при недоступности GitHub API.
- Кнопка `Проверить сейчас` синхронизирует флаг включения проверки перед ручным запуском.
- Исправлена раскладка досок задач: нижняя широкая доска больше не раздвигает верхний ряд.
- Уменьшена высота блока выбора тегов в мониторинге.
- Исправлен toolbar согласования: кнопка обновления выровнена справа от фильтра.
- В `Документы` кнопка `Шаблоны` удерживается справа от `Импорт` в одной строке.
- Просмотр/редактирование документов работает во внутренних вкладках без наложения модального окна.
- Убраны жестко заданные названия `Секретно`, `Совершенно секретно`, `Особой важности` из активных UI-уровней по умолчанию.
- Селекторы грифов в документах/инцидентах читают значения из общего справочника грифов.
- Селекторы уровня допуска в аккаунтах синхронизированы с активной иерархией грифов.
- Убрано лишнее верхнее смещение у карточки `Список отчетов`.
- Теги прав роли в `Аккаунты` получили скругленные углы.
- Для `settings.updates.check` добавлена русификация действия и человекочитаемая расшифровка деталей в логах.

### Безопасность
- Проверка обновлений получает только метаданные версии (без скачивания/исполнения кода).
- Действия проверки обновлений аудитируются (включение/отключение и запуск проверки).
- В Home-режиме сохраняется zero-trust модель (сессии + RBAC + ACL + deny-by-default).
- Подтверждено сохранение маршрутной защиты через middleware/permission wrappers.
- Усилены права на запись/удаление комментариев задач, исключен bypass для view-only ролей.
