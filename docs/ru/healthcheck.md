# Проверка состояния (/healthcheck)

`/healthcheck` — одноразовая страница проверки состояния, которая доступна **только сразу после успешного входа** (и после смены пароля при первом логине). После перехода в приложение страница скрывается до следующего входа.

## Что делает

Страница предназначена для быстрой диагностики, что после обновления и входа:

- сессия и пользователь корректны;
- ключевые endpoints, необходимые для основных вкладок, доступны (с учетом прав);
- отчёт совместимости вкладок (Compat) получен через `GET /api/app/compat`.

Страница **не выполняет авто-миграции** и **не изменяет данные**.

## Как пользоваться

1. Войдите в SCC.
2. Если приложение открыло `/healthcheck`, дождитесь завершения проверок.
3. Разверните блок «Вкладки» (Compat), чтобы увидеть статусы по модулям.
4. Нажмите «Продолжить» для входа в основной интерфейс.

## Права и доступ

- Доступ к проверкам и отчёту зависит от прав пользователя.
- Для отчёта Compat требуется право `app.compat.view`.

Если вы видите “403” или часть пунктов отмечена как “пропущено”, это может означать, что у роли нет доступа к соответствующим вкладкам/эндпойнтам.

## Если есть несовместимость (Compat)

Если в Compat есть статусы `needs_attention` или `incompatible`, при входе появится мастер совместимости, который предложит **только ручные** действия:

- Partial adapt — “подстройка” без удаления бизнес-данных;
- Full reset — полная переинициализация вкладки (удаление данных модуля).

Действия выполняются через jobs и требуют отдельных прав. Подробности: `docs/ru/compatibility.md`.

